library(tidyverse)
library(dsbox)
states <- read_csv("data/states.csv")
dn_ak <- dennys %>%
filter(state == "AK")
nrow(dn_ak)
lq_ak <- laquinta %>%
filter(state == "AK")
nrow(lq_ak)
distances <- 2x3
dn_lq_ak <- full_join(dn_ak, lq_ak,
by = "state")
dn_lq_ak
dn_lq_ak <- full_join(dn_ak, lq_ak, by = "state")
dn_lq_ak
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
### Exercise 6
haversine <- function(long1, lat1, long2, lat2, round = 3) {
# convert to radians
long1 <- long1 * pi / 180
lat1 <- lat1 * pi / 180
long2 <- long2 * pi / 180
lat2 <- lat2 * pi / 180
R <- 6371 # Earth mean radius in km
a <- sin((lat2 - lat1) / 2)^2 + cos(lat1) * cos(lat2) * sin((long2 - long1) / 2)^2
d <- R * 2 * asin(sqrt(a))
return(round(d, round)) # distance in km
}
library(tidyverse)
library(dsbox)
states <- read_csv("data/states.csv")
dn_ak <- dennys %>%
filter(state == "AK")
nrow(dn_ak)
lq_ak <- laquinta %>%
filter(state == "AK")
nrow(lq_ak)
dn_lq_ak <- full_join(dn_ak, lq_ak, by = "state")
dn_lq_ak
library(haversine.R)
distance <- dn_lq_ak %>%
haversine()
distance <- dn_lq_ak %>%
haversine(dn_lq_ak)
distance <- dn_lq_ak %>%
haversine()
haversine_ak <- dn_lq_ak %>%
mutate(
distance = haversine(lat1 = latitude.x, long1 = longitude.x, lat2 = latitude.y, long2 = latitude.y)
)
dn_lq_ak_distance <- dn_lq_ak %>%
mutate(
distance = haversine(lat1 = latitude.x, long1 = longitude.x, lat2 = latitude.y, long2 = latitude.y)
)
dn_lq_ak %>%
mutate(
distance = haversine(lat1 = latitude.x, long1 = longitude.x, lat2 = latitude.y, long2 = latitude.y)
)
dn_lq_ak_min <- dn_lq_ak %>%
group_by(address.x) %>%
summarize(closest = min(distance))
dn_lq_ak %>% dn_lq_ak
dn_lq_ak_distance %>% dn_lq_ak
dn_lq_ak_distance <- %>% dn_lq_ak
dn_lq_ak_distance <-  dn_lq_ak%>%
mutate(
distance = haversine(lat1 = latitude.x, long1 = longitude.x, lat2 = latitude.y, long2 = latitude.y)
)
View(dn_lq_ak_distance)
dn_lq_ak_min <- dn_lq_ak_distance %>%
group_by(address.x) %>%
summarize(closest = min(distance))
dn_nc <- dennys %>%
filter(state == "NC")
nrow(dn_nc)
lq_nc <- laquinta %>%
filter(state == "NC")
nrow(lq_nc)
dn_lq_nc <- full_join(dn_nc, lq_nc, by = "state")
dn_lq_nc
dn_lq_nc_distance <-  dn_lq_nc %>%
mutate(
distance = haversine(lat1 = latitude.x, long1 = longitude.x, lat2 = latitude.y, long2 = latitude.y)
)
dn_lq_nc_min <- dn_lq_nc_distance %>%
group_by(address.x) %>%
summarize(closest = min(distance))
summarise(dn_lq_ak_distance)
dn_lq_nc_distance %>%
summarise()
datasum <- dn_lq_ak_distance %>%
summarise()
datasum
datasum <- dn_lq_ak_distance %>%
summarise(
mean_distance = mean(distance, na.rm = TRUE),
max_distance = max(distance, na.rm = TRUE),
count = n()
)
datasum <- dn_lq_ak_distance %>%
summarise(
mean_distance = mean(distance, na.rm = TRUE),
max_distance = max(distance, na.rm = TRUE),
count = n()
)
print(datasum)
datasum_ak <- dn_lq_ak_distance %>%
summarise(
mean_distance = mean(distance, na.rm = TRUE),
max_distance = max(distance, na.rm = TRUE),
count = n()
)
print(datasum_ak)
ggplot(dn_lq_ak, mapping = aes(
x = longitude,
y = latitude,
color = establishment
)) +
geom_point(alpha =.50) + labs(title = "Does La Quinta = By a Denny's in AK?")
library(ggplot2)
ggplot(dn_lq_ak, mapping = aes(
x = longitude,
y = latitude,
color = establishment
)) +
geom_point(alpha =.50) + labs(title = "Does La Quinta = By a Denny's in AK?")
library(ggplot2)
ggplot(dn_lq_ak_distance, mapping = aes(
x = distance
color = establishment
library(ggplot2)
ggplot(dn_lq_ak_distance, mapping = aes(
x = distance,
color = establishment
)) +
geom_point(alpha =.50) + labs(title = "Does La Quinta = By a Denny's in AK?")
library(ggplot2)
ggplot(dn_lq_ak_distance, mapping = aes(
x = distance,
color = distance
)) +
geom_point(alpha =.50) + labs(title = "Does La Quinta = By a Denny's in AK?")
